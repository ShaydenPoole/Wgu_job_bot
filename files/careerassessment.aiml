<?xml version="1.0" encoding="UTF-8"?>
<aiml version="2.0">

  <topic name="career_assessment">

    <!-- Start the assessment -->
    <category>
      <pattern>QUESTION 1</pattern>
      <template>
        <think>
          <set name="assessment_step">1</set>
        </think>
        Do you prefer working with logic and data, or visual design and user experience?
        <button>Logic and Data</button>
        <button>Visual Design and User Experience</button>
      </template>
    </category>

    <category>
      <pattern>LOGIC AND DATA</pattern>
      <template>
        <think>
          <set name="question1">technical</set>
        </think>
        <srai>QUESTION 2</srai>
      </template>
    </category>
    <category>
      <pattern>VISUAL DESIGN AND USER EXPERIENCE</pattern>
      <template>
        <think>
          <set name="question1">creative</set>
        </think>
        <srai>QUESTION 2</srai>
      </template>
    </category>

    <!-- Question 2 -->
    <category>
      <pattern>QUESTION 2</pattern>
      <template>
        <think><set name="assessment_step">2</set></think>
        Do you prefer focusing on details and optimization, or building new systems?
        <button>Details and Optimization</button>
        <button>Building New Systems</button>
      </template>
    </category>
    <category>
      <pattern>DETAILS AND OPTIMIZATION</pattern>
      <template>
        <think><set name="question2">detail</set></think>
        <srai>QUESTION 3</srai>
      </template>
    </category>
    <category>
      <pattern>BUILDING NEW SYSTEMS</pattern>
      <template>
        <think><set name="question2">systems</set></think>
        <srai>QUESTION 3</srai>
      </template>
    </category>

    <!-- Question 3 -->
    <category>
      <pattern>QUESTION 3</pattern>
      <template>
        <think><set name="assessment_step">3</set></think>
        Do you prefer working independently, or collaborating with teams?
        <button>Working Independently</button>
        <button>Collaborating with Teams</button>
      </template>
    </category>
    <category>
      <pattern>WORKING INDEPENDENTLY</pattern>
      <template>
        <think><set name="question3">independent</set></think>
        <srai>CALCULATE RESULTS</srai>
      </template>
    </category>
    <category>
      <pattern>COLLABORATING WITH TEAMS</pattern>
      <template>
        <think><set name="question3">collaborative</set></think>
        <srai>CALCULATE RESULTS</srai>
      </template>
    </category>

    <!-- Calculate and display result -->
    <category>
      <pattern>CALCULATE RESULTS</pattern>
      <template>
        <think>
          <!-- Map answers to best_career -->
          <condition name="question1">
            <li value="technical">
              <condition name="question2">
                <li value="detail">
                  <condition name="question3">
                    <li value="independent"><set name="best_career">Data Analyst</set></li>
                    <li value="collaborative"><set name="best_career">System Administrator</set></li>
                  </condition>
                </li>
                <li value="systems">
                  <condition name="question3">
                    <li value="independent"><set name="best_career">Machine Learning Engineer</set></li>
                    <li value="collaborative"><set name="best_career">Fullstack Developer</set></li>
                  </condition>
                </li>
              </condition>
            </li>
            <li value="creative">
              <condition name="question2">
                <li value="detail"><set name="best_career">UI Designer</set></li>
                <li value="systems"><set name="best_career">Fullstack Developer</set></li>
              </condition>
            </li>
          </condition>
          <set name="assessment_result"><get name="best_career"/></set>
          <set name="topic">assessment_result</set>
        </think>

        <b>Your best match is: <get name="best_career"/></b><br/>
        Would you like more information?
        <button>Yes</button>
        <button>No</button>
      </template>
    </category>

  </topic>

  <!-- After results -->
  <topic name="assessment_result">

    <category>
      <pattern>YES</pattern>
      <template>
        <think><set name="topic">career_info</set></think>
        <srai><get name="assessment_result"/></srai>
      </template>
    </category>

    <category>
      <pattern>NO</pattern>
      <template>
        Thank you for completing the assessment!  
        <think><set name="topic">general</set></think>
        <button>Return to Main Menu</button>
      </template>
    </category>

    <category>
      <pattern>RETURN TO MAIN MENU</pattern>
      <template>
        <think><set name="topic">general</set></think>
        <srai>MAIN MENU</srai>
      </template>
    </category>

    <category>
      <pattern>*</pattern>
      <template>
        I didnâ€™t understand. More information?
        <button>Yes</button>
        <button>No</button>
        <button>Return to Main Menu</button>
      </template>
    </category>

  </topic>

</aiml>
